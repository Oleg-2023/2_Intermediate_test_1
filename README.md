# 2_Intermediate_test_1
## Промежуточная аттестация. Задание 1

Согласно заданию с помощью docker и DDL (__docker-compose.yaml, init.sql__) созданы база данных велосипедных  
поездок __bikes__ и  две таблицы с данными о станциях и поездках: __austin_bikeshare_stations, austin_bikeshare_trips__.


С помощью средств средств Docker и psql данные из формата CSV импортированы в соответствующие таблицы.

В соответстием с условиями задания создан запрос формирующий таблицу с данными по поездкам на указанный
в переменной __tbl_year__ год

При создании запроса принята аксиома, что поездки могут быть длительностью более 0 минут:  
___t.duration_minutes > 0___

Для сбора данных по начальным и конечным станциям написаны 2 подзапроса(временные таблицы), формирующие данные о  
количестве и средней продолжительности поездок на год, указанный в переменной __tbl_year__.

Далее с помощью __LEFT OUTTER JOIN__ данные по начальным и конечным станциям агрегируются со справочником станций.
Такой способ JOIN выбран, потому что теоретически могут быть станции, которые использовались только как стартовые или  
конечные.
Далее неиспользуемые станции были исключены с помощью условия в WHERE

Выборка 10 станций с которых начинались самые продолжительные поездки прилагается в  
файле __top10_trips.png__
![image](https://github.com/Oleg-2023/2_Intermediate_test_1/assets/144448179/af26c1f7-f13c-44fb-80ba-19d2d6fe8d7e)
